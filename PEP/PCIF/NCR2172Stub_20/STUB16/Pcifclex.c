/*
*===========================================================================
* Title       : Close Function
* Category    : PC Interface for STUB DLL, NCR 2170 PC Interface
* Program Name: PCIFCLOS.C
* --------------------------------------------------------------------------
* Compiler    : MS-C Ver. 7.00 by Microsoft Corp.
* Memory Model: Large Model
* Options     : /c /Alnw /W4 /G2s /Zp
* --------------------------------------------------------------------------
* Abstract:
*
* --------------------------------------------------------------------------
* Update Histories
*    Date  :Ver.Rev.:   Name    : Description
* Sep-07-92:00.00.01:O.Nakada   : Initial
*          :        :           :
*===========================================================================
*===========================================================================
* PVCS Entry
* --------------------------------------------------------------------------
* $Revision$
* $Date$
* $Author$
* $Log$
*===========================================================================
*/


/*
*===========================================================================
*   Include File Declarations
*===========================================================================
*/
#include "ecr.h"
#include "r20_pif.h"
#include "pifctl.h"
#include "pcif.h"
#include "pcifl.h"


/*                                                                                
*===========================================================================
*   Compile Message Declarations
*===========================================================================
*/


/*                                                                                
*===========================================================================
*   Work Area Declarations
*===========================================================================
*/
/*
*===========================================================================
*   Public Work Area
*===========================================================================
*/
extern USHORT          husCliExeNet;       /* Semapho, ISP - APPLI */


/*
*===========================================================================
*   Static Work Area 
*===========================================================================
*/


/*
*===========================================================================
*   Code Area Declarations
*===========================================================================
*/
/*
*===========================================================================
** Synopsis:    SHORT STUBENTRY PcifCloseEx(USHORT usFunc)
*
** Return:      PCIF_SUCCESS - Successful
*               PCIF_ERROR   - Error
*
** Description:
*===========================================================================
*/
SHORT STUBENTRY PcifCloseEx(USHORT usFunc, VOID FAR *pData)
{
    SHORT   sStatus;

    PifRequestSem(husCliExeNet);
    
    if (usFunc == PCIF_FUNC_CLOSE_LAN) {
        
        if ((sStatus = PifControl(PIF_NET_STOP_LAN, NULL)) >= 0) {  /* successful */
            sStatus = PCIF_SUCCESS;
        }
    } else {
        
        sStatus = PCIF_ERROR;
    }
    PifReleaseSem(husCliExeNet);
    return sStatus;
    
    pData = pData;
}
